<?xml version="1.0" encoding="UTF-8"?>
<nn xmlns="nju.chuan.nn"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="nju.chuan.nn ./nn.xsd">
    <hp>
        <nEpoch>65</nEpoch>
        <bs>64</bs>
        <lr>0.0002</lr>
        <nLatent>32</nLatent>
    </hp>
    <nnLayer>
        <!-- ndf=16 -->
        <!-- ngf=16 -->

        <!-- Discriminator -->
        <!-- 1 * 64 * 64 * 64 -->
        <conv3d id="1">
            <in_channels>1</in_channels>
            <out_channels>16</out_channels>
            <kernel_size>4</kernel_size>
            <stride>2</stride>
            <padding>1</padding>
            <bias>false</bias>
            <use_bn>false</use_bn>
            <activate_mode param="0.2">leakyrelu</activate_mode>
        </conv3d>

        <!-- ndf * 32 * 32 * 32 -->
        <conv3d id="2">
            <in_channels>16</in_channels>
            <out_channels>32</out_channels>
            <kernel_size>4</kernel_size>
            <stride>2</stride>
            <padding>1</padding>
            <bias>false</bias>
            <use_bn>true</use_bn>
            <activate_mode param="0.2">leakyrelu</activate_mode>
        </conv3d>

        <!-- (ndf * 2) * 16 * 16 * 16 -->
        <conv3d id="3">
            <in_channels>32</in_channels>
            <out_channels>64</out_channels>
            <kernel_size>4</kernel_size>
            <stride>2</stride>
            <padding>1</padding>
            <bias>false</bias>
            <use_bn>true</use_bn>
            <activate_mode param="0.2">leakyrelu</activate_mode>
        </conv3d>

        <!-- (ndf * 4) * 8 * 8 * 8 -->
        <conv3d id="4">
            <in_channels>64</in_channels>
            <out_channels>128</out_channels>
            <kernel_size>4</kernel_size>
            <stride>2</stride>
            <padding>1</padding>
            <bias>false</bias>
            <use_bn>true</use_bn>
            <activate_mode param="0.2">leakyrelu</activate_mode>
        </conv3d>

        <!-- (ndf * 8) * 4 * 4 * 4 -->
        <conv3d id="5">
            <in_channels>128</in_channels>
            <out_channels>1</out_channels>
            <kernel_size>4</kernel_size>
            <stride>1</stride>
            <padding>0</padding>
            <bias>false</bias>
            <use_bn>false</use_bn>
            <activate_mode>sigmoid</activate_mode>
        </conv3d>
        <!-- 1 * 1 * 1 * 1 -->


        <!-- Generator -->
        <!-- nLatent * 1 * 1 * 1 -->
        <convTranspose3d id="1">
            <in_channels>32</in_channels>
            <out_channels>128</out_channels>
            <kernel_size>4</kernel_size>
            <stride>1</stride>
            <padding>0</padding>
            <output_padding>0</output_padding>
            <bias>false</bias>
            <use_bn>true</use_bn>
            <activate_mode>relu</activate_mode>
        </convTranspose3d>

        <!-- (ngf * 8) * 4 * 4 * 4 -->
        <convTranspose3d id="2">
            <in_channels>128</in_channels>
            <out_channels>64</out_channels>
            <kernel_size>4</kernel_size>
            <stride>2</stride>
            <padding>1</padding>
            <output_padding>0</output_padding>
            <bias>false</bias>
            <use_bn>true</use_bn>
            <activate_mode>relu</activate_mode>
        </convTranspose3d>

        <!-- (ngf * 4) * 8 * 8 * 8 -->
        <convTranspose3d id="3">
            <in_channels>64</in_channels>
            <out_channels>32</out_channels>
            <kernel_size>4</kernel_size>
            <stride>2</stride>
            <padding>1</padding>
            <output_padding>0</output_padding>
            <bias>false</bias>
            <use_bn>true</use_bn>
            <activate_mode>relu</activate_mode>
        </convTranspose3d>

        <!-- (ngf * 2) * 16 * 16 * 16 -->
        <convTranspose3d id="4">
            <in_channels>32</in_channels>
            <out_channels>16</out_channels>
            <kernel_size>4</kernel_size>
            <stride>2</stride>
            <padding>1</padding>
            <output_padding>0</output_padding>
            <bias>false</bias>
            <use_bn>true</use_bn>
            <activate_mode>relu</activate_mode>
        </convTranspose3d>

        <!-- ngf * 32 * 32 * 32 -->
        <convTranspose3d id="5">
            <in_channels>16</in_channels>
            <out_channels>1</out_channels>
            <kernel_size>4</kernel_size>
            <stride>2</stride>
            <padding>1</padding>
            <output_padding>0</output_padding>
            <bias>false</bias>
            <use_bn>false</use_bn>
            <activate_mode>tanh</activate_mode>
        </convTranspose3d>

        <!-- 1 * 64 * 64 * 64 -->
    </nnLayer>
</nn>